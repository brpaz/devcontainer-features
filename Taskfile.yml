version: 3

tasks:
  default:
    cmds:
      - task -l

  install:
    cmds:
      - yarn add @devcontainers/cli

  cli:
    desc: "Runs devcontainer CLI"
    cmds:
      - ./node_modules/.bin/devcontainer {{.CLI_ARGS}}

  direnv:test:
    cmds:
      - ./node_modules/.bin/devcontainer features test -f direnv --skip-autogenerated .
