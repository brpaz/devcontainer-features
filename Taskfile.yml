version: 3

tasks:
  default:
    cmds:
      - task -l

  cli:
    desc: "Runs devcontainer CLI"
    cmds:
      - ./node_modules/.bin/devcontainer {{.CLI_ARGS}}

  direnv:test:
    cmds:
      - ./node_modules/.bin/devcontainer features test -f direnv --skip-autogenerated .

  test:all:
    desc: Runs tests for all features
    cmds:
      - direnv:test
